\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[swedish]{babel}
\usepackage{tocloft}
\usepackage{etoolbox}
\usepackage{graphicx}
\graphicspath{ {images/} }
\usepackage{pdfpages}
\usepackage{float}
\usepackage{subcaption}
\usepackage{url}
\usepackage{listings}
%\usepackage{showframe}
%\usepackage[a4paper]{geometry}
\usepackage{fancyhdr}
\usepackage[parfill]{parskip}
\pagestyle{fancy}
\lhead{Grupp 7}

\rhead{\today}	
\cfoot{\thepage}

\renewcommand{\contentsname}{Innehåll}

\textheight = 600pt
\footskip = 30pt


\makeatletter
\@addtoreset{section}{part}
\makeatother

\renewcommand\cftpartpresnum{Del~}


\begin{document}
\pagenumbering{roman}

\begin{titlepage}
\begin{center}
  \textbf{\Huge Kandidatarbete}
\end{center}
\begin{center}
  {\Large Redaktör: Pål Kastman}
\end{center}
\begin{center}
  {\Large Datum: 2015-05-13}
\end{center}
\begin{center}
  {\Large \textbf{Version 1.0}}
\end{center}
\end{titlepage}
\newpage
\begin{flushleft}
  {\Large \textbf{Dokumenthistorik}}\\[0.5ex]
  \begin{center}
  \vspace{3mm}
    \begin{tabular}{ | l | l | p{5cm} | l |}
    \hline
    \textbf{Datum} & \textbf{Version} & \textbf{Utförda ändringar} & \textbf{Utförda av} \\ \hline
    2015-03-13 & 0.1 & Första utkast av gemensam och individuella rapporter & Pål Kastman \\ \hline
    2015-04-20 & 0.2 & Andra utkastet av gemensam och individuella rapporter & Alla \\ \hline
    2015-05-11 & 0.3 & Tredje utkastet av gemensam och individuella rapporter & Alla \\ \hline
	2015-05-13 & 1.0 & Fjärde utkastet av gemensam och individuella rapporter & Alla \\ \hline    
    \end{tabular}
  \end{center}
\end{flushleft}

\hfill

\begin{flushleft}
  {\Large \textbf{Projektidentitet}}\\[0.5ex]
  {\small} Detta dokument gäller för grupp 7  i kursen TDDD77 på Linköpings universitet
  \begin{center}
    \begin{tabular}{ | l | l | p{5cm} | l |}
    \hline
    \textbf{Namn} & \textbf{Ansvarsområde} & \textbf{E-post} \\ \hline
    Daniel Rapp & Teamledare & danth407@student.liu.se \\ \hline
    Daniel Falk & Analysansvarig & danfa519@student.liu.se \\ \hline
    Jonas Andersson & Arkitekt & jonan111@student.liu.se \\ \hline
    Albert Karlsson & Kvalitetssamordnare & albka735@student.liu.se \\ \hline
    Erik Malmberg & Testledare & erima694@student.liu.se \\ \hline
    Pål Kastman & Dokumentansvarig & palka285@student.liu.se \\ \hline
    Robin Andersson & Utvecklingsledare & roban563@student.liu.se \\ \hline

    \end{tabular}
\end{center}
\end{flushleft}

\begin{flushleft}
\textbf{Kund} \\ Region Östergötland \\
\end{flushleft}
\begin{flushleft}
\textbf{Kundkontakt} \\ 
Daniel Hall, daniel.hall@regionostergotland.se \\
Erik Sundvall, erik.sundvall@regionostergotland.se \\
Ingrid Hallander, ingrid.hallander@regionostergotland.se \\
\end{flushleft}
\begin{flushleft}
\textbf{Handledare} \\ Lena Buffoni, lena.buffoni@liu.se \\
\end{flushleft}
\begin{flushleft}
\textbf{Handledare} \\ Kristian Sandahl, kristian.sandahl@liu.se \\
\end{flushleft}

\newpage
\tableofcontents
\newpage
\pagenumbering{arabic}

\part{Gemensamma erfarenheter och diskussion}

\section{Inledning}
Detta avsnitt behandlar varför detta projekt utförs.

\subsection{Motivering}
Region Östergötland har idag ett system med handböcker som en sjuksköterska går igenom inför varje operation. I dessa handböcker finns bland annat förberedelse-uppgifter och plocklistor, som innehåller engångsmaterial. Handböckerna är idag inte interaktiva på något sätt, istället skrivs plocklistan och förberedelse\-uppgifterna ut och bockas av för hand. Plattformen med handböcker kan heller inte återanvändas på olika avdelningar på grund av licensproblem. 

Utöver detta system så finns ett annat separat system, som heter Kartoteket, för uppgifter om vilka artiklar som finns och var i lagret de ligger. Detta gör att personalen som ska förbereda inför operationer behöver gå in i två olika system. 

\subsection{Syfte}
Uppgiften som gruppen har fått är att skapa ett nytt system med handböcker som har interaktiva förberedelse- och plocklistor. Listorna ska uppdateras kontinuerligt när de bockas av så flera personer kan jobba på dem samtidigt. Plocklistan ska också innehålla uppgifter om var artiklarna ligger. Tanken är att personalen 
ska använda en iPad så de kan gå runt och plocka i lagret samtidigt som de bockar av plocklistan.

I mån av tid ska också extra funktionalitet implementeras. Till exempel sortera plocklistan med avseende på närmsta väg mellan artiklarna, lagersaldo och media i handböckerna.
Hela systemet ska ligga under den öppna källkodslicensen Apache 2.0 \cite{apache} så det kan användas och vidareutvecklas fritt av alla.    

\subsection{Frågeställning}
Rapporten ska besvara följande frågeställningar.
\begin{itemize}
\item Hur kan ett system för operationsförberedelser realiseras så arbetet blir lättare och mer effektivt?
\item Vilka strategier kan användas för effektiv utveckling i en grupp där kunskapsnivån varierar? 
\end{itemize}

\subsection{Avgränsningar}
Den här rapporten beskriver hur ett system för operationsförberedelser på universitetssjukhuset i Linköping kan realiseras. Andra sjukhus kan ha andra rutiner vilket får konsekvensen att systemet inte fungerar där.

Kunden ville också att ett lagersaldo skulle integreras i systemet och göra det möjligt att skanna av artiklar då dessa plockas. Vidare ville kunden även att systemet skulle ge möjlighet att välja mellan olika kliniker i regionen. Tiden kändes inte tillräcklig för att åstadkomma dessa implementeringar, därför klargjordes det, i ett tidigt skede, att grundläggande funktionalitet hade högre prioritet än lagersaldo och val av klinik. En kompromiss gjordes där dessa krav fick prioritet 2 vilket innebar att kraven var önskvärda och skulle implementeras i mån av tid, eller prioritet 3 där kraven sågs som en framtida utbyggnad.

Hur man ska jobba i projektgrupper med olika kunskapsnivåer tas fram genom undersökningar i projektgrupp 7 i kursen TDDD77 på Linköpings universitet. Resultaten av denna undersökning kan kanske därför inte appliceras i situationer som inte kan likställas med situationen i projektgruppen.

\section{Bakgrund}
\label{bakgrund}
Studenterna som studerar kursen TDDD77 fick i januari 2015 ett uppdrag att utföra ett kandidatarbete. Först fick gruppen rangordna flera projektuppdrag efter önskemål, för att sedan få ett av dessa uppdrag tilldelat sig. Projektgruppen fick då detta projekt som skickades in av Region Östergötland.

\subsection{Programspråk och bibliotek}
I detta projekt kommer följande programspråk och bibliotek att användas.

\subsubsection{Node.js}
Node.js är en plattform för att skapa applikationer till framförallt webbservrar \cite{nodejs}. Det finns en inbyggd pakethanterare vid namn npm som gör det enkelt att inkludera bibliotek i sina projekt. Det är därför väldigt enkelt att använda sig av ett bibliotek istället för att skriva all funktionalitet själv. Node.js är baserat på öppen källkod som är tillgänglig under en MIT-licens.

\subsubsection{KeystoneJS}
KeystoneJS är ett ''content management system'' som bland annat innehåller ett kraftfullt administrationsverktyg och en databashanterare \cite{keystonejs}.

\subsubsection{Socket.IO}
Socket.IO är en modul till Node.js och ett bibliotek för front-end \cite{socketio}. Socket.IO använder sig av websockets för att kommunicera mellan front-end och back-end. Med hjälp av Socket.IO så kan man skicka data från en klient till alla andra anslutna klienter och visa datan som skickades utan att någon sida behöver laddas om.

\subsubsection{MongoDB}
MongoDB är en dokumentbaserad databas som stödjer många olika plattformar \cite{mongodb}.

\subsubsection{Handlebars}
Handlebars är ett ''template language'' som är byggt på Mustache, vilket är ett annat ''template language''. Handlebars ger möjlighet att lägga in en del logik i HTML-kod \cite{handlebars}. Till exempel kan man göra loopar för att iterera över data och skapa HTML-kod för de olika objekten i en lista.  

\subsubsection{Less}
Less kan användas som vanlig CSS. Men det ger även möjlighet till att använda variabler och funktioner som sedan kompileras till CSS-kod \cite{less}. Till exempel kan en variabel för en färg användas istället för att direkt sätta färgen. Om färgen ska ändra så kan man då bara ändra på variabeln istället för att ändra på varje ställe.

\subsubsection{Bootstrap}
Bootstrap är det mest populära HTML, CSS och Javascript-ramverket för att utveckla responsiva och mobila webbapplikationer \cite{bootstrap}. 

\subsubsection{JQuery}
JQuery är ett funktionsrikt Javascriptsbibliotek. Det gör saker som manipulation och traversering av HTML-dokument, animationer och Ajax mycket enkelt \cite{jquery}.

\subsubsection{Wkhtmltopdf}
Wkhtmltopdf är ett program som tar en hemsida eller en HTML-fil och skapar en pdf av den \cite{wkhtmltopdf}. Programmet har många olika parametrar som kan ändras t.ex. mediatyp så pdf-filen kan se ut som en utskrift av hemsidan. För att kunna använda detta programmet med Node.js finns det också en Node.js-modul med samma namn som skickar kommandon till programmet.


\section{Teori}

För att kunna svara på frågeställningar så måste några begrepp i dem definieras.
\begin{itemize}
\item Effektivt definieras i detta fallet som att det tar kortare tid för operationsförberedelser och kräver mindre energi av personalen, till exempel att personalen inte ska behöva hålla lika mycket information i huvudet. 
\item Lättare definieras som att det går snabbare för nya personer att lära sig rutinerna och kunna utföra arbetet.
\end{itemize}

\subsection{Varför är effektivisering viktigt?}
Effektiviseringen av sjukvården och hur den ska ske är frågor som diskuterats flitigt de senaste åren. Region Östergötland har gjort tester för att kontrollera hur en operationsförberedelse kan effektiviseras. Ett av dessa tester gick ut på att undersöka hur lång tid det tar att plocka lagerartiklar då information om lagerplats finns lättillängligt gentemot hur lång tid det tar med nuvarande system. Resultatet av detta var att det tog 5 minuter för en person utan erfarenhet att plocka materialet då lagerplats fanns tillgängligt och 30 minuter för en sjuksköterska med lång erfarenhet med nuvarande system. Detta visar att det finns stora tidsvinster i att bygga ett system som underlättar operationsförberedelser.



 
\section{Metod}
%\subsubsection{Kundmöten}
%I inledningen hölls totalt fyra möten, det första var ett längre möte, där endast teamledaren, kundansvarige och arkitekten närvarade från projektgruppen. Detta möte hölls främst som en introduktion men var även ett tillfälle för kunden att visa upp sitt nuvarande system och få framföra ideér om hur system skulle kunna se ut och fungera istället. Sedan gjordes ett studiebesök hos kunden där alla gruppmedlemmar deltog. Man fick se hur en sjuksköterska förberedde inför en operation och även se deras nuvarande system i bruk. Under det tredje mötet så utformade man kravspecifikationen som man sedan spikade under det fjärde mötet.Efter varje iteration hölls ett möte på plats hos kunden för att diskutera hur arbetet fortskred, detta var även ett perfekt tillfälle att ta upp saker man var osäker kring, men var även bra för båda parter att föreslå ändringar i systemet. Mötet efter iteration två bestämdes att det skulle sättas upp en server där kunden skulle kunna testköra systemet, det bestämdes också att några från projektgruppen skulle närvara vid dessa tester. Detta gjordes två gånger där arkitekt och kundansvarige medverkade vid första tillfället, kvalitetsansvarige och dokumentansvarige medverkade vid det sista tillfället


Detta avsnitt beskriver kravinsamlingen och utveckling i projektet.
\subsection{Kravinsamling}

%Gruppen utgick ifrån ett projektdirektiv och började tänka över hur systemet skulle byggas. En introduktion till projektet gavs också vid ett första möte med kund. Under detta möte bestämdes också hur insamlingen av krav skulle gå till. Analysansvarig utsågs som ansvarig för detta. Denne skulle med hjälp av kunden arbeta fram en kravspecifikation som båda parter vara nöjda med. Detta gjordes genom flera möten och ett gemensamt dokument på Google drive där båda parter kunde gå in för att redigera och skriva kommentarer. Det kom fram ganska snabbt att ingen i gruppen hade koll på hur operationsförberedelser går till, vilket gjorde att utbildning inom detta krävdes. För att få mer insyn så gjordes ett studiebesök på universitetssjukhuset i Linköping.

Denna del beskriver hur kravframställningen gått till i detta projekt och hur den bidragit till systemets utveckling. Först beskrivs arbetet med att analysera kundens behov under förstudien. Sedan beskrivs hur kravspecifikationen arbetades fram och hur kraven valdes att representeras. Avslutningsvis beskrivs hur kraven validerades. I den enskilda utredningen ''D-Kravinsamlingsmetoder'' så beskrivs mer ingående vilka metoder och verktyg som använts för att ta fram krav. Fokus ligger där på prototyper och användartester.
%hur referera till enskild?
\subsubsection{Förstudie}
Den största delen utav analysarbetet skedde under förstudien. Här identifierades de olika intressenterna och en kravspecifikation utarbetades. Den första kontakten med projektet var en projektbeskrivning där kunden formulerade sina mål och visioner av projektet. Några viktiga krav gavs också såsom att prototypdesign skulle genomföras i samarbete med kunden. Ett första möte, av fyra, under förstudien gav sedan mer information och projektgruppen började sin kravinsamling. 

Det konstaterades att det fanns två olika intressenter att arbeta med. Dels sjuksköterskorna som är användare av systemet och dels CMIT, Centrum för medicinsk teknik och IT, som ansvarar för sjukhusets IT-miljöer. 

För att förstå användarnas behov genomfördes ett studiebesök där projektgruppen fick en visning av nuvarande system och hur det används. Detta var nödvändigt för att verkligen förstå vad som behövde göras och vad som kunde förbättras. Från CMIT:s sida genomfördes mer tekniska möten där teknikval diskuterades. Här var det viktigt att ta reda på vilka begränsningar som fanns och vilka val som passade våra och deras erfarenheter.

\subsubsection{Kravspecifikation i Google Docs}
Kravspecifikationen skrevs i Google Docs. Detta valdes eftersom kraven utarbetades tillsammans med kund. Ett gemensamt redigerbart dokument gav en möjlighet att arbeta på olika platser under kravframställningen vilket var effektivt. Kommenteringsfunktionen i Google Docs möjligheten att kommentera krav och föreslå förbättringar. Under interna möten och kundmöten var den gemensamma redigeringen också till nytta då kravformuleringar snabbt kunde genomföras.

\subsubsection{Kravrepresentation}
Kraven gavs en prioritetsordning för att kunna urskilja de mest väsentliga kraven. Detta kändes nödvändigt då arbetet begränsades av en tidsbudget. En prioritering av kraven gav utrymme för vidareutveckling i mån av tid.
\begin{itemize}
\item Krav med prioritet 1 var att betrakta som grundkrav som skulle genomföras för att projektet skulle ses som godkänt.
\item Krav med prioritet 2 var att betrakta som önskvärda och som skulle genomföras om grundkraven var uppfyllda.
\item Krav med prioritet 3 var krav som fångats upp men som skulle ses som framtida utbyggnad. 
\end{itemize}  
%Koppla till nån litteratur/standard.

%Strukturering av krav
Kraven numrerades för att lätt kunna refereras till under projektets gång. De delades också in i olika sektioner efter deras del i systemet. Sektionerna var plocklistor, handböcker, Kartotek, lagersystem. Två extra sektioner användes också för generella krav och för leveranser. Denna uppdelning kändes naturlig för detta projekt. 
%Man skulle också kunna dela in dem efter blablabla...

Kravspecifikationen skrevs med stöd från standarden IEEE 830 \cite{ieee830}. Enligt standarden ska ett krav vara korrekt, otvetydigt, färdigt, konsekvent, prioriterat, verifierbart, modifierbart och spårbart. Detta eftersträvades men det kan diskuteras om alla krav uppfyller detta. I slutändan var det ändå den gemensamma förståelsen för kravet tillsammans med kunden som accepterades. 

Enligt standarden uttrycktes kraven på ska-form. Ett exempel på ett krav från projektet är följande: \textit{''Plocklistor ska innehålla information om artikelns namn, förråd, sektion, hylla och fack''}.

\subsubsection{Kravvalidering}
Vid varje iterationsslut hölls ett möte med kund där systemet demonstrerades och kunden fick en chans att testa det. Iterationerna gjorde att projektgruppen snabbt kunde rätta till eventuella missförstånd. 

Vilka krav som var genomförda och vilka krav om skulle prioriteras till nästa iteration sågs över. Kravspecifikationen var på så sätt dynamisk och uppdaterades under projektets gång. En färgkodning användes för att markera vilka krav som var godkända, vilka som hade påbörjats och vilka som återstod.

\subsection{Utveckling}
Projektets utveckling har skett i fyra iterationer där den första var en förstudie och i de avslutande tre iterationerna har utvecklingen av produkten skett. Nedan beskrivs vilka hjälpmedel som har använts för att underlätta arbetet.

\subsubsection{Roller}
I detta projektet finns det sju olika roller. Dessa är teamledare, analysansvarig, arkitekt, kvalitetssamordnare, testledare, dokumentansvarig och utvecklingsledare. Vad dessa roller innebär kan ses nedan. 
\begin{itemize}
\item Teamledare: Har huvudansvar för att arbetet inom gruppen går bra och att de uppgifter som ska genomföras bli gjorda. 
\item Dokumentansvarig: Har ansvar för att alla dokument korrekturläses och ser bra ut. 
\item Kvalitetssamordnare: Innehar ansvaret för att en kvalitetsplan tas fram och följs. 
\item Testledare: Skriver testplan, testrapporter och har huvudansvar för att testning sker och görs på rätt sätt.
\item Utvecklingsledare: Tar fram verktyg för utveckling och leder utvecklingsarbetet.
\item Arkitekt: Skriver arkitektturbeskrivning och bestämmer hur applikationen ska utformas.
\item Analysansvarig: Har hand om kundkontakten och har huvudansvar för att en bra kravspecifikation tas fram.
\end{itemize}
Dessa roller delades ut efter gruppmedlemmarnas önskan. Då flera personer ville ha samma roll diskuterades de olika kandidaternas kvalifikationer, vilket följdes av ett gemensamt beslut från gruppen.

\subsubsection{SCRUM}
Projektet har utvecklats iterativt med en utvecklingsmetodik som påminner mycket om SCRUM. Aktiviteterna i projektet har visats på en gemensam SCRUM-board med hjälp av webbsidan Trello. 

\begin{figure}[H]
	\begin{center}
	\includegraphics[scale=0.5]{trello2.png}
	\caption{En Trelloboard}
	\label{fig:trello2}
	\end{center}
\end{figure}

Boarden hade kategorierna TODO, DOING och DONE enligt figur \ref{fig:trello2}. När en medlem valt en aktivitet så märktes aktiviteten med medlemmens namn och flyttades till den aktuella kategorin. 

Varje vecka har gruppen haft ett kort SCRUM-möte på 15 minuter. På mötet har varje gruppmedlem berättat vad som har gjorts den föregående veckan och vad som ska göras den kommande veckan. SCRUM-mötet har oftast utförts i samband med varje veckas handledarmöte.

\subsubsection{Alpha state cards}
Ett system med alpha state cards har använts för att gruppen skulle kunna ha koll på hur långt projektet har fortskridit. Korten har även använts till att identifiera aspekter av projektet som kan förbättras och som gruppen behöver arbeta mer med. De aspekter av projektet som kunnat förbättras har använts som mål för kommande iterationer. De olika korten har uppdaterats kontinuerligt under projektets gång.

\subsubsection{Sammarbete i gruppen}
Under utvecklingsfasen delades projektgruppen till en början upp i två grupper som fokuserade på front-end och back-end. Allt eftersom projektet fortgick så övergick de flesta av gruppmedlemmarna till att endast arbeta på front-end. Utvecklingen skedde nästan uteslutande i samma lokal.

%Under förstudien så diskuterades det hur utvecklingen skulle ske på bästa på sätt för gruppen. Förslagen som diskuterades var, utveckling i mindre grupper, separat arbete var för sig eller att alla gruppmedlemmar skulle sitta tillsammans och utveckla. Då alla i gruppen inte hade utvecklat någon webbaplikation tidigare så togs beslutet att under förstudien paralellt inleda en intern utbildning inom gruppen i form av så kallade kodstugor, dessa gick ut på att alla skulle sitta tillsammans och lära sig de olika verktygen så som t.ex. Javascript och CSS och att de mindre erfarna skulle ha en möjlighet att få hjälp av de mer erfarna.

\clearpage
\input{results.tex}
\clearpage

\section{Diskussion}
Här diskuteras metod och resultat i rapporten.
\subsection{Resultat}
Under iteration 3 utförde kunden användartester av systemet vid två tillfällen. En utvärdering av dessa tester bifogas i Appendix A.
%kanske kan använda nån fancy latex-referens till appendix egentligen.

\subsubsection{Back-end}
Back-end valdes att skrivas i Javascript dels för att minska inlärningskurvan eftersom det är samma språk som används på front-end och dels för att realtidskommunikation mellan klienterna underlättas. Node.js valdes som plattform på back-end eftersom den har en väldigt enkel pakethanterare. Detta underlättar när flera personer arbetar i ett projekt eftersom alla paket installeras automatiskt.

KeystoneJS underlättade utvecklingen väldigt mycket till en början. Några punkter som beskriver vad KeystoneJS hjälper till med följer:

  \begin{itemize}
    \item Skapar automatiskt en administreringssida för varje databasmodell.
      Huvuddelen av administeringen har dock bytts ut då den automatgenererade är något begränsad.
    \item Har ett inbyggt användarsystem som är lätt att modifiera och byta ut.
    \item Sköter all kommunikation över http-protokollet till klienterna, dvs. gör hemsidan åtkomlig.
    \item Har inbyggt stöd för Handlebars och Less.
  \end{itemize}
  
\subsubsection{Front-end}
Anledningen till att Bootstrap används på front-end är för att Bootstrap har många färdiga CSS-klasser, vilket leder till att gruppmedlemmarna inte behöver skriva lika mycket CSS själva.
De klasser som finns är lätta att använda för att skapa responsiva hemsidor.
All kod är dessutom testad för att fungera på olika webbläsare vilket kan vara krångligt att lösa om man skriver all CSS från grunden.

JQuery används för att lättare hämta ut ett element på hemsidan och ändra data i det.
Det finns även många bra jQuery-bibliotek som gör att man slipper ''uppfinna hjulet'' i många fall. En nackdel med jQuery gentemot andra bibliotek som exempelvis AngularJS \cite{angular} är att det lätt blir rörig kod.

Fördelen med Less är bland annat att man kan använda variabler och enkla funktioner i stilmallarna.
Exempelvis kan variablerna användas för att spara de olika färgerna på hemsidan för att enkelt kunna byta ut dem.

\subsubsection{Säkerhetskopiering och reservsystem}
Det som kan göras för att få säkerhetskopieringen bättre är att implementera att en ny pdf-kopia skapas så fort en operationsförberedelse har uppdaterats.

Det krävs mycket arbete för att lägga in alla handböcker, vilket gör att det är viktigt att databasen säkerhetskopieras med jämna mellanrum. Men det tar en del datorkraft att göra en säkerhetskopiering. Därför är det bra att det går att ställa in tidsintervallet som bestämmer hur ofta säkerhetskopiering av databasen ska ske.

\subsubsection{Översiktssida}
Överssiktssidan är tänkt att den ska visas på en monitor och inte kräva någon interaktion för att se resultat för olika operationsförberedelser. Det är därför viktigt att sidan använder realtidskommunikation och att allting uppdateras automatiskt. 

\subsubsection{Handbok}
För att göra övergången mellan det nya systemet och det gamla så gavs handböckerna ett utseende som liknar det gamla systemet till stor del. Det nya systemet har förbättrats genom att man har större förmåga att formatera innehållet efter behov. Man kan nu zooma i bilder, vilket är en förbättring mot föregående system.
Den största förändringen ligger i plocklistan som har en koppling direkt till Kartoteket.

Sökfunktionen ger möjligheten att snabbt hitta en handbok. Den placerades i sidhuvudet för att det alltid ska gå snabbt att ta sig till en handbok. Den har utformats efter kundens krav med möjlighet att använda alternativa sökord.
Sökfunktionen kompletterades med möjligheten att lista alla handböcker. Detta var också ett krav från kunden. 

Handbokens tillstånd har utformats för att tillfredsställa kraven. Denna utformning kunde dock ha gjorts på andra sätt. I kundens interna utvärdering (se Appendix A) nämns att tillstånden utkast och granskning upplevs som något förvirrande. Under testningen sågs granskningen som överflödig.
\subsubsection{Redigering}
I redigeringen av handböcker fokuserades det på att göra gränssnittet så likt en publicerad handbok som möjligt. Redigeringen var den svåraste delen att göra lättförståelig och användarvänlig. Det fanns flera designideér som skrotades under projektets gång.

Bland annat var det tvunget att göras en avvägning mellan flexibilitet och användar\-vänlighet.
Till exempel så förekommer ofta samma information under flera processteg. Man skulle då kunna tänka sig en lösning där denna information kopplas till flera processteg. Detta valdes dock bort eftersom projektgruppen ansåg att denna lösning skapar för stor komplexitet.

\subsubsection{Plocklista}
Plocklistan har utformats efter kundens behov. Den har under projektets gång uppdaterats många gånger efter feedback från kund. Efter användartester framkom att andra typer av artiklar, som inte finns i Kartoteket, med fördel också kunde ligga i en plocklista. Ett sätt att lösa detta på är att lägga in dessa artiklar i Kartoteket eller att skapa en ny databas för dessa med en separat plocklista.

\subsubsection{Roller}
Rollerna i gruppen följdes till viss del. Vissa rollers arbete distribueras mer eller mindre över hela gruppen. En sådan roll var utvecklingsledare. Utvecklingsledaren ledde inte utvecklingen utan gruppen skötte det tillsammans, vilket fungerade bra. Detta kanske inte fungerar lika bra i en grupp med sämre kommunikation. För att få rollen att fungera bättre i sådana situationer så kunde den definierats mer. Exempeluppgifter på vad utvecklingsledaren skulle göra hade gjort rollen tydligare. 

Kvalitetssamordnaren gjorde inte mycket mer kvalitetsarbete än att utforma kvalitetsplanen. Detta berodde främst på att funktionalitet prioriterades framför kvalitet i projektet och att det kvalitetsarbete som gjordes delades ut på alla gruppmedlemmar. Dokumentansvarig hade också en roll där det mesta av arbetet delades ut på alla gruppmedlemmar. 

Anledningen till att arbetet distribuerades var för att både kvalitetssamordnarens och dokumentansvarigs arbete hade blivit mycket enformigt med att granska dokument och kod. Detta fungerade också ganska bra för projektgruppen. Olika personer är ju dock olika bra på att granska kod och dokument, vilket leder till en viss ojämnhet i arbetet. I systemet som användes så var det bestämt vem som granskade vems kod och dokument. Ett roterande schema hade kunnat göra så att det blev en jämnare nivå. Detta hade dock gjort hela processen mycket krångligare. 

Att arbetet distribuerades ledde till att dessa roller kom i skymundan. Detta ger en svår avvägning. Om en roll blir för liten så finns risken att den inte tagits på allvar och att låta en person göra allt jobb inom rollen kan få konsekvenser om inte denne är intresserad av jobbet som rollen innebär. I detta projektet är det svårt att komma undan detta problem då sju stycken olika personer sammanförs och ska fördela sju roller. I större projekt och projekt hos företag är detta ett mindre problem då det finns fler personer att välja på. Ett företag anställer inte heller till exempel en kvalitetssamordnare som inte är intresserad av kvalité.

Den person med mest erfarenhet av webbutveckling blev arkitekt. Detta var ett mycket bra val då detta gjorde att en stabil grund kunde tagits fram snabbt för att arbetas vidare på. Om någon med mindre erfarenhet fått denna roll hade det tagit mycket längre tid att komma igång eftersom denne person då hade fått göra mycket mer efterforskning och hade haft svårt att tyda resultaten. 

Personerna som hade minst erfarenhet av webbutveckling fick rollerna kvalitetssamordnare, dokumentansvarig och analysansvarig. Detta var bra då dessa roller inte kräver så mycket förkunskaper. 


\subsubsection{Kodstugor}
Att arbetet oftast skedde på samma ställe gjorde att gruppmedlemmarna enkelt kunde fråga varandra om de fick problem vilket kunde spara dem många timmar av felsökning. Eftersom det var varierad kunskapsnivå på deltagarna i projektet så var det också lättare för alla att komma igång och jobba när de snabbt och enkelt kunde fråga om saker som de inte förstod. Det behövdes färre möten eftersom gruppmedlemmarna alltid visste vem som gjorde vad och vad som behövdes göras.

Att sitta på samma ställe och jobba skulle inte fungera lika bra i större grupper då det skulle bli alldeles för många kommunikationsvägar. 

\subsection{Metod}
Här diskuteras vad som fungerade bra och vad som kunde göras bättre med metoden.
\subsubsection{Kravinsamling}
Metoden som användes för kravframställning fokuserade på att samla in så mycket krav som möjligt genom möten, intervjuer och observationer. Att arbeta fram kraven tillsammans med kund kändes nödvändigt för att få en fullständig bild. 

En sak som inte prioriterades men som kanske hade kunnat hjälpa arbetet skulle varit att lägga större fokus på olika roller. Slutsystemet har rollerna administratör och icke-administratör. En avvägning gjordes där dessa två enkla roller valdes. Fördelen var att det kunde läggas fokus på att testa andra delar av systemet med högre prioritet snabbare. Nackdelen var att dessa funktionaliteter inte hann testas och under förstudien ledde till en viss förvirring. Vid användartesterna upplevdes inte detta som att det saknades vilket kan ses som att projektgruppen gjorde en bra avvägning. 

Att använda use-cases eller user-stories diskuterades också under förstudien. Detta bortprioriterades då de ansågs överflödiga. Denna avvägning ledde till att det var lite svårare att kommunicera kraven. 

Studiebesöket under förstudien var bra för att få en inblick i arbetet. Det hade dock behövts mer tid för observation. Vid studiebesöket var hela gruppen med och det blev lite stressigt och mycket folk. Därför kunde det varit bättre att ha fler studiebesök med färre gruppmedlemmar.

\subsection{Ur ett större perspektiv}
Applikationen som projektgruppen har utvecklat kan leda till stora fördelar för sjukhuset. Patientsäkerheten ökar då flödet för operationsförberedelser lätt kan följas. Den ökar också genom att det blir mindre felplockning av material eftersom materialets position och artikelnummer nu står i handböckerna. Att dessa automatiskt uppdateras i alla handböcker när en artikel ändras eller flyttas leder också till mindre felplockningar. 

Genom att positionen för material syns i handböckerna så går det mycket snabbare och enklare att plocka allt material. Detta leder till att personal känner sig mindre stressade och sjukhuset sparar pengar, vilket i sin tur kan leda till mer resurser inom andra delar av vården.

\newpage
\section{Slutsatser}
Den första frågeställningen
\begin{quote}
Hur kan ett system för operationsförberedelser realiseras så arbetet blir lättare och mer effektivt?
\end{quote}
har besvarats i tidigare kapitel. Men de främsta funktionaliteterna som finns är att materialets position syns på ett tydligt sätt och att denna informationen automatiskt uppdateras i alla handböcker då den ändras i Kartoteket. Att systemet är både lättare och mer effektivt än det gamla systemet har konfirmerats genom användartester utförda av kunden (se Appendix A).

%Vi har lyckats göra ett system som innehåller handböcker för operationer som kan användas för operationsförberedelser. Handböckerna innehåller bland annat en plocklista av engångsartiklar som behövs till olika operationer. Vid engångsartiklarna finns data om var engångsartikeln kan hämtas. Engångsartiklarna blir också sorterade efter var de finns så att man inte kommer att behöva springa fram och tillbaka mellan olika förråd och hyllor för att hämta artiklarna. Eftersom plocklistan uppdateras i realtid så kan också flera sjuksköterskor hämta artiklar samtidigt och checka av de artiklar som de plockat, vilket gör att det inte kommer att bli några konflikter med att flera sjuksköterskor plockar samma artikel. Detta system effektiviserar arbetet vid operationsförberedelser eftersom sjuksköterskor inte längre kommer behöva gå till en dator och söka på artikeln de ska ha för att få reda på i vilken hylla den finns. Syftet med detta projekt är därav avklarat.
Svaret på den andra frågeställningen
\begin{quote}
Vilka strategier kan användas för effektiv utveckling i en grupp där kunskapsnivån varierar? 
\end{quote}
är primärt att dela upp arbetet i olika roller, samt att arbeta i samma lokal för att underlätta kommunikationen inom gruppen.

\section{Fortsatt arbete}
Här följer en sammanfattning om fortsatt arbete med systemet. Restlistan behandlar krav som inte implementerats eller som borde vidareutvecklas. Även förslag på vidareutveckling som inte tas upp av kravspecifikationen tas upp. Dessa förslag är sådant som kommit fram under utvecklingens gång.

\subsection{Restlista}
Restlista för kunds räkning. 
\subsubsection{Krav som bör vidareutvecklas}
Följande krav är markerade som gula i kravspecifikationen vilket betyder att de bör vidareutvecklas för att ses som klara.
%%Fyll på gula krav här efter iteration 3 mötet
\begin{description}
\item[Krav nr 2] Systemet ska kunna köras på mobil (iphone).

Systemet ska i första hand köras på dator och surfplatta. Därför har detta krav lämnats för eventuell vidareutveckling.

\item[Krav nr 7] Systemet ska ha en funktion för att kunna göra backup av databaserna.

Detta krav är i princip uppfyllt men behöver funktionen behöver konfigureras för att fungera hos kund. 
%Bra om nån med koll fyller på
\item[Krav nr 10] Avcheckning av plocklistor och förberedelselistor ska under pågående operationsförberedelse uppdateras automatiskt/kontinuerligt och tillåta växling mellan inmatningsenheter.

Detta krav ligger kvar för vidareutveckling då en bugg upptäcktes vid slutmötet i iteration 3. Avcheckningen uppdaterades inte på surfplatta.%Denna kanske vi kan fixa innan sista inlämning?
\item[Krav nr 14] Separata plocklistor/påfyllnadslistor ska kunna skapas för t.ex. operationssalar.

Rent tekniskt kan man skapa en handbok för en specifik sal som tillfredställer detta krav. Det finns dock ingen speciell funktionalitet för detta.
\item[Krav nr 29] Administratörer ska kunna lägga till video och ljud i de olika underrubrikerna.

Det går att länka till externa video/ljudfiler. De hanteras dock inte inom systemet. %Formulera om iaf nån kan
\item[Krav nr 38] Behörighetsstyrning ska finnas för att kunna tilldela användare rättigheter att administrera innehållet i Kartoteket.

Det finns i dagsläget bara en behörighetsnivå som gäller för hela systemet. En vidareutveckling vore att ge användare mer specifika tillstånd som detta.
\item[Krav nr 42] När en artikel tas bort från Kartoteket ska det synas att den utgått i handboken.

Detta krav är inte uppfyllt då en bugg upptäcktes vid mötet i iteration 3. %Denna kanske vi kan fixa innan sista inlämning?
\end{description}

\subsubsection{Ej påbörjade krav}
Följande krav är markerade som röda i kravspecifikationen vilket betyder att de inte är påbörjade.
%%Fyll på röda krav här efter iteration 3 mötet

\begin{description}
\item[Krav nr 5]  I systemet ska användare kunna välja instans (operationsklinik med tillhörande handböcker och Kartotek) av applikationen. 

Detta går inte att göra i dagsläget. %Fyll på någon med koll om hur det skulle kunna lösas.
\item[Krav nr 17] Det ska finnas en importfunktion där handböcker kan läsas in från ifylld excelmall.

Om detta krav ska vidareutvecklas måste en tydlig excelmall tas fram.
\item[Krav nr 22] Påminnelsefunktion (t.ex. mailutskick) när handbok är äldre än ett angivet datum ska finnas.

Denna funktionalitet finns inte. %Fyll på någon med koll om hur det skulle kunna lösas.
\item[Krav nr 30] Multimedia ska hanteras inom programmet och inte i någon extern applikation.

Detta krav kräver mer tanke om hur det ska hanteras. Det är inte säkert att vinsten blir så stor vid vidareutveckling.%tankar?
\item[Krav nr 43] Kartoteket ska kunna skilja på vilket sjukhus och klinik som artikeln tillhör. (Viktigt då artiklar av samma sort finns men tillhör olika kliniker). 

Detta fungerar inte i dagsläget. %Fyll på någon med koll om hur det skulle kunna lösas.
\end{description}


Alla krav som behandlar lagersystemet finns kvar. För att utveckla ett lagersystem bör en ny förstudie genomföras för att ta fram tydligare krav. Ett lagersystem med skanning av artiklar skulle bidra till att plockningen blir mer säker. Det skulle också bidra till effektivare inventering och översikt av lagret. Ett saldo för varje artikel skulle kunna användas som beställningsunderlag. Kraven rörande lagret som samlats in under förstudien är följande:
\begin{description}
\item[Krav nr 46] Ska finnas ett saldo för varje artikel i förrådet.
\item[Krav nr 47] Ska gå att skanna av artiklar (streckkod) som plockas i en specifik plocklista.
\item[Krav nr 48] Ska gå att lagra in en artikel till förrådet som inte blivit använd genom att skanna in den.
\item[Krav nr 49] Saldot ska kunna användas som underlag till beställning.
\item[Krav nr 50] Beställningsunderlaget ska ha ett sådant format att det går att importera i Agresso.
\item[Krav nr 51] En inventeringsfunktion ska finnas.
\end{description}

\subsubsection{Övriga förslag}
Här följer övriga förslag på vidareutveckling.
%%Fyll på här om ni kommer på något!

\begin{description}
\item[Artikelsök] Vid sökning på artikel vid redigering av handbok kan det vara bra om man sorterar resultaten så att de artiklar som tillhör samma enhet som handboken visas först.
\item[Avancerad sökfunktion] En mer avancerad sökfunktion med * och sökning på flera ord som inte behöver vara direkt efter varandra.
\item[Förvalda kommentarer] Under användartester observerades att samma kommentarer skrivs ofta så det kan vara bra med en lista på vanliga kommentarer som man kan välja ifrån.
\item[Roller och rättigheter] Olika roller bör identifieras och en funktion för att tilldela användare olika rättigheter bör implementeras. I dagsläget kan en användare tilldelas rollen administratör. En användare utan denna behörighet har samma rättigheter som en användare utan inlogg.
\item[Galler och extrainstrument] De artiklar som benämns som galler och instrument bör också behandlas med en plocklista. Detta kan göras genom att lägga in dem i Kartoteket eller genom att skapa en separat databas för dessa med egen plocklista.
\item[Versionshantering av handböcker] Det finns ingen versionshantering av handböckerna. %Skriv mer utförligt
\item[Tillstånd av handböcker] Denna punkt hänger ihop med versionshanteringen. Vid användartester upplevdes tillstånden som något förrvirrande.
\item[Redigering av handböcker] I nuvarande system kan flera personer redigera en handbok samtidigt vilket kommer skapa problem med att personerna sparar över varandras ändringar. Ett lås skulle kunna implementeras för att lösa detta.
\item[Förhandstitt] I nuvarande system öppnas en ny flik vid förhandstitt. Från denna förhandstitt kan man gå vidare till redigering. Vid användartester upplevdes detta som något förvirrande. Redigeraknappen på förhandstitten bör alltså tas bort.
\item[Borttagning av handbok] I dagsläget går det inte ta bort en handbok. Detta bör vara enkelt att implementera.
\item[Handbok till pdf] Implementera så att pdf-filerna skapas direkt då en operation sparas. Detta kan göras med hjälp av ett api som redan är utvecklat. %skriv vad som kan ändras
\item[Redigering av Kartotekartikel] Det är svårt att redigera ett fält i Kartoteket som är tomt. Själva rutan är för liten och det är svårt att pricka rätt.
\item[Varning vid formulärifyllning] Det går inte att spara en artikel i Kartoteket då pris inte angivits. Användaren får dock ingen varning eller information om detta vilket leder till frustration.

\end{description}

\newpage
\part{Enskilda utredningar}
\renewcommand{\thesection}{\Alph{section}}	
\input{enskilda/rapp.tex}
\newpage
\input{enskilda/jonas.tex}
\newpage
\input{enskilda/pal.tex}
\newpage
\input{enskilda/falk.tex}
\newpage
\input{enskilda/erik.tex}
\newpage
\input{enskilda/robin.tex}
\newpage
\input{enskilda/albert.tex}
\newpage

\part{Referenser}
\input{referenser.tex}
\newpage

\part{Appendix A - Användarutvärdering}
\includepdf[pages={-}]{utv.pdf}
\end{document}
